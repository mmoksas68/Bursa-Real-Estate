<div class="row justify-content-md-center">
<div class="col" align="right" style="margin: 10px 0 15px 0; display: inline;">
      <a class="btn btn-primary" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
        Open Filter
      </a>
</div>
<div class="col" align="left" style="margin: 10px 0 15px 0; display: inline;">
      <form action="/realestates/house" method="GET">
        <button class="btn btn-warning">Clear the filter</button>
      </form>  
</div>  
</div>
<div class="collapse" id="collapseExample" style="margin-left: 30px">
    <form action="/realestates/house" method="GET">
        <div class="row">
            <div class="col-md-12 col-lg-4 col-xl-3">
                <div class="form-group">
                    <label for="minPrice">Minimum Price $</label>
                    <input class="form-control" type="number" name="minPrice"  <% if(minPrice){ %>
                    value="<%=minPrice%>"
                    <% } else { %> 
                    placeholder="0"
                    <% } %>>
                </div>
            </div>
            <div class="col-md-12 col-lg-4 col-xl-3">
                <div class="form-group">
                    <label for="maxPrice">Maximum Price $</label>
                    <input class="form-control" type="number" name="maxPrice" <% if(maxPrice){ %>
                    value="<%=maxPrice%>" 
                    <% } else { %>
                    placeholder="100000000"
                    <% } %> >
                </div>
            </div>
            <div class="col-md-12 col-lg-4 col-xl-3">
                <div class="form-group">
                    <label for="minArea">Minimum Area</label>
                    <input class="form-control" type="number" name="minArea"  <% if(minArea){ %>
                    value="<%=minArea%>"
                    <% } else { %> 
                    placeholder="0"
                    <% } %>>
                </div>
            </div>
            <div class="col-md-12 col-lg-4 col-xl-3">
                <div class="form-group">
                    <label for="maxArea">Maximum Area</label>
                    <input class="form-control" type="number" name="maxArea" <% if(maxArea){ %>
                    value="<%=maxArea%>" 
                    <% } else { %>
                    placeholder="10000000"
                    <% } %> >
                </div>
            </div>
            <div class="col-md-12 col-lg-4 col-xl-3">
                <div class="form-group">
                      <label for="typeOfHouse">House Types</label>
                      <select id="typeOfHouse" name="searchResult[typeOfHouse]" class="form-control">
                        <option selected value="" <% if( !filter || !filter.typeOfHouse){ %>
                        selected
                        <% } %> > -All options- </option>
                        <option value="Villa" <% if( filter && filter.typeOfHouse == "Villa"){ %>
                        selected
                        <% } %> >Villa</option>
                        <option value="Duplex" <% if( filter && filter.typeOfHouse == "Duplex"){%>
                        selected
                        <% } %>>Duplex</option>
                        <option value="Detached house" <% if( filter && filter.typeOfHouse == "Detached house"){%>
                        selected
                        <% } %>>Detached House</option>
                        <option value="Apartment" <% if( filter && filter.typeOfHouse == "Apartment"){%>
                        selected
                        <% } %>>Apartment</option>
                      </select>
                </div>
            </div>
            <div class="col-md-12 col-lg-4 col-xl-3">
                <div class="form-group">
                      <label for="inputFurniture">Furniture</label>
                      <select id="inputFurniture" name="searchResult[furniture]" class="form-control">
                        <option selected value="" > -All options- </option>
                        <option value="Yes" <% if( filter && filter.furniture == "Yes"){ %>
                        selected
                        <% } %> >Yes</option>
                        <option value="No" <% if( filter && filter.furniture == "No"){%>
                        selected
                        <% } %>>No</option>
                      </select>
                </div>
            </div>
            <div class="col-md-12 col-lg-4 col-xl-3">
                <div class="form-group">
                      <label for="room">Room Number</label>
                      <select id="room" name="searchResult[roomNumber]" class="form-control">
                        <option selected value="" <% if( !filter || !filter.roomNumber){ %>
                        selected
                        <% } %> > -All options- </option>
                        <option value="1+0" <% if( filter && filter.roomNumber == "1+0"){ %>
                        selected
                        <% } %> >1+0</option>
                        <option value="1+1" <% if( filter && filter.roomNumber == "1+1"){%>
                        selected
                        <% } %>>1+1</option>
                        <option value="2+1" <% if( filter && filter.roomNumber == "2+1"){%>
                        selected
                        <% } %>>2+1</option>
                        <option value="3+1" <% if( filter && filter.roomNumber == "3+1"){%>
                        selected
                        <% } %>>3+1</option>
                        <option value="4+1" <% if( filter && filter.roomNumber == "4+1"){%>
                        selected
                        <% } %>>4+1</option>
                        <option value="2+2" <% if( filter && filter.roomNumber == "2+2"){%>
                        selected
                        <% } %>>2+2</option>
                        <option value="3+2" <% if( filter && filter.roomNumber == "3+2"){%>
                        selected
                        <% } %>>3+2</option>
                        <option value="4+2" <% if( filter && filter.roomNumber == "4+2"){%>
                        selected
                        <% } %>>4+2</option>
                        <option value="5+1" <% if( filter && filter.roomNumber == "5+1"){%>
                        selected
                        <% } %>>5+1</option>
                        <option value="6+" <% if( filter && filter.roomNumber == "6+"){%>
                        selected
                        <% } %>>6+</option>
                      </select>
                </div>
            </div>
            <div class="col-md-12 col-lg-4 col-xl-3">
                <div class="form-group">
                     <label for="inputFirst">First Hand</label>
                      <select id="inputFirst" name="searchResult[isFirstHand]" class="form-control">
                        <option selected value="" > -All options- </option>
                        <option value="Yes" <% if( filter && filter.isFirstHand == "Yes"){ %>
                        selected
                        <% } %> >Yes</option>
                        <option value="No" <% if( filter && filter.isFirstHand == "No"){%>
                        selected
                        <% } %>>No</option>
                      </select>
                </div>
            </div>
             <div class="row">
                <div class="col-md-12 col-lg-4 col-xl-3" style="margin: auto;">
                    <div class="form-group">
                        <label for="location">Location of houses</label>
                        <input class="form-control" type="text" name="location" <% if(locations){ %>
                        value="<%=locations%>" "
                        <% } else { %>
                        placeholder="location"
                        <% } %> >
                    </div>
                </div>    
            </div>
            <div class="col-12" align="center" style="display: inline;">
                <button class="btn btn-primary">Search</button> 
            </div>
        </div>
    </form>   
</div>

<hr class="style-two">

<% if(realestates.length > 0) { %>

    <div class="row">
        <% realestates.forEach(function(realestate){ %>
        <div class="col-md-12 col-lg-4 col-xl-3" align="center" style="padding-bottom: 50px;" >
            <div class="card" style="width: 18rem; margin: auto;">
              <img class="card-img-top" src="<%= realestate.thumbnail %>" alt="Card image cap">
              <div class="card-body">
                <h5 class="card-title"><%= realestate.name %></h5>
                <ul class="list-group list-group-flush">
                    <% if( realestate.price){ %>
                        <li class="list-group-item">Price: <strong class="numberWithCommas"><%= realestate.price %></strong>$</li>
                    <% } %>
                    <% if( realestate.fullArea){ %>
                        <li class="list-group-item">Area: <strong class="numberWithCommas"><%= realestate.fullArea %></strong> m^2</li>
                    <% } %>
                    <% if( realestate.roomNumber){ %>
                        <li class="list-group-item">Room number: <strong><%= realestate.roomNumber %></strong></li>
                    <% } %>
                    <% if( realestate.typeOfHouse){ %>
                        <li class="list-group-item">House type: <strong><%= realestate.typeOfHouse %></strong> </li>
                    <% } %>
                </ul>
                <a href="/realestates/<%=realestate.type%>/<%=realestate._id%>" class="btn btn-primary">Click for more info</a>
              </div>
            </div>
        </div>
        <% }); %>  
    </div>
<% } else { %>
<h1 align="center" >Couldn't find anything to show. Please change your filter. </h1>
<% } %>
